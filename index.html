<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ระบบสั่งอาหารผ่าน QR Code - Dashboard</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <style>
        body {
            font-family: 'Sarabun', sans-serif; /* แนะนำให้ใช้ Google Font ที่รองรับภาษาไทย */
            background-color: #f8f9fa;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .status-cooking {
            background-color: #ffc107; /* สีเหลือง สำหรับกำลังทำ */
            color: #000;
        }
        .status-served {
            background-color: #198754; /* สีเขียว สำหรับเสิร์ฟแล้ว */
            color: #fff;
        }
        .status-pending {
            background-color: #dc3545; /* สีแดง สำหรับรอคิว */
            color: #fff;
        }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-utensils me-2"></i> QR Food System
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link active" href="index.html">หน้าหลัก</a></li>
                    <li class="nav-item"><a class="nav-link" href="menu.html">เมนูอาหาร (D1)</a></li>
                    <li class="nav-item"><a class="nav-link" href="status.html">สถานะออเดอร์ (D2)</a></li>
                    <li class="nav-item"><a class="nav-link" href="report.html">รายงานยอดขาย (D3)</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container py-5">
        
        <div class="row mb-4 text-center">
            <div class="col-12">
                <h1 class="display-5 fw-bold">ยินดีต้อนรับสู่ระบบบริหารจัดการร้านอาหาร</h1>
                <p class="lead text-muted">เลือกเมนูการทำงานตามบทบาทหน้าที่ (จำลองตาม DFD Level 1)</p>
            </div>
        </div>

        <div class="row g-4 mb-5">
            <div class="col-md-4">
                <div class="card h-100 card-hover border-primary">
                    <div class="card-body text-center">
                        <div class="display-4 text-primary mb-3"><i class="fas fa-qrcode"></i></div>
                        <h4 class="card-title">สำหรับลูกค้า</h4>
                        <p class="card-text">เข้าสู่หน้าเมนูอาหาร สั่งอาหาร และชำระเงิน</p>
                        <hr>
                        <p class="small text-muted">Process 1: ระบบสั่งอาหาร</p>
                        <button class="btn btn-outline-primary w-100">จำลองการสแกน QR</button>
                        <a href="scan.html" class="btn btn-outline-primary w-100">จำลองการสแกน QR</a>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card h-100 card-hover border-warning">
                    <div class="card-body text-center">
                        <div class="display-4 text-warning mb-3"><i class="fas fa-fire-alt"></i></div>
                        <h4 class="card-title">สำหรับฝ่ายครัว</h4>
                        <p class="card-text">รับออเดอร์ อัปเดตสถานะการเตรียมอาหาร (Cooking/Done)</p>
                        <hr>
                        <p class="small text-muted">Process 2: จัดการสถานะ</p>
                        <button class="btn btn-outline-warning w-100 text-dark">ดูรายการออเดอร์เข้าใหม่</button>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card h-100 card-hover border-success">
                    <div class="card-body text-center">
                        <div class="display-4 text-success mb-3"><i class="fas fa-chart-line"></i></div>
                        <h4 class="card-title">สำหรับผู้จัดการ</h4>
                        <p class="card-text">จัดการเมนู สต๊อกสินค้า และดูรายงานยอดขายรายวัน</p>
                        <hr>
                        <p class="small text-muted">Process 3 & 4: การเงินและสต๊อก</p>
                        <button class="btn btn-outline-success w-100">เข้าสู่ระบบหลังบ้าน</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <div class="card shadow-sm">
                    <div class="card-header bg-white py-3 d-flex justify-content-between align-items-center">
                        <h5 class="mb-0"><i class="fas fa-list-alt me-2"></i> รายการสั่งซื้อล่าสุด (Mockup Data from D2)</h5>
                        <span class="badge bg-secondary">Updated: Just now</span>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover align-middle">
                                <thead class="table-light">
                                    <tr>
                                        <th>Order ID</th>
                                        <th>รายการอาหาร</th>
                                        <th>โต๊ะที่</th>
                                        <th>ราคารวม</th>
                                        <th>สถานะ (Process 2)</th>
                                        <th>จัดการ</th>
                                    </tr>
                                </thead>
                                <tbody id="orderTableBody">
                                    </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <footer class="bg-dark text-white text-center py-3 mt-5">
        <div class="container">
            <p class="mb-0">QR Code Food Ordering System Diagram Implementation</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // ข้อมูลจำลอง (Mock Data) ที่สะท้อนโครงสร้าง D2 ข้อมูลการสั่งซื้อ
        const mockOrders = [
            { id: 'ORD-001', items: 'ข้าวกะเพราหมูสับ, ไข่ดาว', table: 'T-01', price: 65, status: 'served' },
            { id: 'ORD-002', items: 'สุกี้แห้งทะเล', table: 'T-04', price: 80, status: 'cooking' },
            { id: 'ORD-003', items: 'ข้าวผัดอเมริกัน, น้ำเปล่า', table: 'T-02', price: 120, status: 'pending' },
            { id: 'ORD-004', items: 'ต้มยำกุ้งน้ำข้น (ถ้วย)', table: 'T-05', price: 150, status: 'pending' }
        ];

        const tableBody = document.getElementById('orderTableBody');

        // ฟังก์ชัน Render ตาราง
        function renderTable() {
            let html = '';
            mockOrders.forEach(order => {
                let statusBadge = '';
                let actionBtn = '';

                // Logic การแสดงผลสถานะตาม Diagram Process 2 (จัดการสถานะ)
                if (order.status === 'pending') {
                    statusBadge = '<span class="badge status-pending">รอคิวปรุง</span>';
                    actionBtn = '<button class="btn btn-sm btn-primary">รับออเดอร์</button>';
                } else if (order.status === 'cooking') {
                    statusBadge = '<span class="badge status-cooking">กำลังปรุง</span>';
                    actionBtn = '<button class="btn btn-sm btn-success">เสิร์ฟแล้ว</button>';
                } else if (order.status === 'served') {
                    statusBadge = '<span class="badge status-served">เสิร์ฟแล้ว</span>';
                    actionBtn = '<button class="btn btn-sm btn-secondary" disabled>เสร็จสิ้น</button>';
                }

                html += `
                    <tr>
                        <td><strong>#${order.id}</strong></td>
                        <td>${order.items}</td>
                        <td>${order.table}</td>
                        <td>${order.price} บาท</td>
                        <td>${statusBadge}</td>
                        <td>${actionBtn}</td>
                    </tr>
                `;
            });
            tableBody.innerHTML = html;
        }

        // เรียกใช้งานฟังก์ชัน
        renderTable();
    </script>
</body>
</html>